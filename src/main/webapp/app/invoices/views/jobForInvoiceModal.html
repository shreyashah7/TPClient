<div id="jobForInvoiceModal" >
    <div>
        <form action="" name="jobModalForm" id="jobModalForm" novalidate>
            <div class="modal-header">
                <button type="button" class="close" aria-label="Close"><span aria-hidden="true" ng-click='jobinvoice.hideInvoiceModal()'>&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">
                    <span id="assignRequestModalTitle">Create Invoice</span>
                </h4>
            </div>
            <div class="modal-body tcp-scrollable-modal" style='max-height: 400px !important;overflow-y: auto'>
                <table id="invoiceJobTable" class="standard-table table-striped table-bordered margintb10 jobTable" infinite-scroll='jobinvoice.nextPageForJobs()' infinite-scroll-distance="2"  id="newJobsTable"  infinite-scroll-parent="true">
                    <thead>
                        <tr>
                            <th>
                                <span>
                                    Customer
                                </span>
                            </th>
                            <th>
                                <span >Collection Date/Time</span>
                            </th>
                            <th>
                                <span>
                                    Collection Point
                                </span>
                            </th>
                            <th>
                                <span >Delivery Date/Time</span>
                            </th>
                            <th>
                                <span>
                                    Delivery Point
                                </span>
                            </th>
                            <th>
                                <span>
                                    Price Quoted
                                </span>
                            </th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-if="(!jobinvoice.jobList || jobinvoice.jobList.length == 0)">
                            <td colspan="7">
                                No job available.
                            </td>
                        </tr>
                        <tr ng-if="jobinvoice.jobList.length > 0" ng-repeat="jobObj in jobinvoice.jobList"  data-container="body" data-toggle="popover" image="images/Job.png">
                            <td>
                                <div >
                                    <p id="tblCustomerName{{$index + 1}}" ng-bind="jobObj.customer.customerName" class="tcp-word-wrapper" ></p>
                                </div>

                            </td>
                            <td>
                                <p id="tblCollectionDateTime{{$index + 1}}" ng-bind="jobObj.collectionDateTime | date:angularDateTimeFormat" class="tcp-word-wrapper" ></p>
                            </td>
                            <td>
                                <p id="tblCollectionPostcode{{$index + 1}}" ng-bind="jobObj.collectionPointName" class="tcp-word-wrapper" ></p>
                            </td>
                            <td>
                                <p id="tblDeliveryDateTime{{$index + 1}}" ng-bind="jobObj.deliveryDateTime | date:angularDateTimeFormat" class="tcp-word-wrapper" ></p>
                            </td>
                            <td>
                                <p id="tblDeliveryPostcode{{$index + 1}}" ng-bind="jobObj.deliveryPointName" class="tcp-word-wrapper" ></p>
                            </td>
                            <td>
                                <p id="tblPriceQuted{{$index + 1}}" ng-bind="jobObj.priceQuoted" class="tcp-word-wrapper" ></p>
                            </td>
                            <td>
                                <div class="form-group" style="text-align:center;padding-top:8px;"   >
                                    <i class="fa fa-close" tooltip-placement="top" id="crossimage{{$index + 1}}" tooltip-append-to-body="true" style="cursor:pointer;font-size:20px;color:rgb(172, 49, 49);" ng-click="jobinvoice.removeJob($index, jobObj)"></i>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>

            </div>
            <div class="col-md-12" style="padding-right: 41px;" ng-if="!jobinvoice.jobList || jobinvoice.jobList.length >= 4">
                <span class="pull-right">
                    <h4>Total Value : {{jobinvoice.totalJobValue.toFixed(2)}}</h4>
                </span>
                <br/><br/>
            </div>
            <div class="col-md-12" style="padding-right: 18px;" ng-if="!jobinvoice.jobList || jobinvoice.jobList.length < 4">
                <span class="pull-right">
                    <h4>Total Value : {{jobinvoice.totalJobValue.toFixed(2)}}</h4>
                </span>
                <br/><br/>
            </div>
            <div class="modal-footer">
                <div class="btn-group overflow">
                    <button type="button" class="btn btnSave1" id="btnSaveInvoice" ng-disabled="(!jobinvoice.jobList || jobinvoice.jobList.length == 0) || jobinvoice.invoiceSubmitted"  ng-click="jobinvoice.saveInvoice(jobModalForm)">Invoice</button>
                    <button type="button" class="btn btn-primary dropdown-toggle btnIconSave" aria-expanded="false" ng-disabled="(!jobinvoice.jobList || jobinvoice.jobList.length == 0) || jobinvoice.invoiceSubmitted"  ng-click="jobinvoice.saveInvoice(jobModalForm)">
                        <i class="fa fa-edit"></i>
                    </button>
                </div>
                <div class="btn-group overflow">
                    <button type="button" class="btn btnCancel1" id="btnCancelInvoice" ng-click="jobinvoice.hideInvoiceModal()">Cancel</button>
                    <button type="button" class="btn btn-primary dropdown-toggle btnRed" aria-expanded="false" ng-click="jobinvoice.hideInvoiceModal()">
                        <i class="fa fa-close"></i>
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>