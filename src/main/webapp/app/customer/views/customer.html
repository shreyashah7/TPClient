<div class="main_section">
    <img src="images/12.jpg" id="bg-img-scroll" />
    <div class="main-bg-img-orders"></div>
    <div class="container-fluid main-bg-image ">
        <div class="container">
            <div class="row table_sections">
                <div class="table_section">
                    <div class="col-md-12 bg-black subheadwm">
                        <div class="btn_group_bar">
                            <div class="col-md-6 padding0">
                                <span id="titleSubHeader" class="customer_id new_content_header white">Customers</span>
                            </div>
                        </div>
                    </div> 
                    <div class="col-md-12 padding0">
                        <div class="bg-gray bottom-arw overflow padding20">
                            <div class="col-md-9 search-form padding0">
                                <div class="input-group">
                                    <input type="text" class="form-control newSearch" placeholder="Enter the customer name " name="searchCustomers" ng-change="customers.searchCustomers()" id="searchCustomers" ng-model-options="{debounce: {'default': 500}}" ng-model="customers.searchedCustomer">
                                    <div class="input-group-btn">
                                        <button class="btn btn-default" id="btnSeachCustomer" type="submit" ng-click="customers.searchCustomers()"><i class="glyphicon glyphicon-search white"></i></button>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3 padding0 overflow">
                                <button class="btn bg-green" id="btn-top-search" ng-click="customers.openCustomerModalPanel()">
                                    Create a new customer
                                </button>
                            </div>    
                        </div> 
                    </div>
                    <div class="clearfix"></div>
                    <div class="col-md-12 padding0 top30" infinite-scroll='customers.nextPage()' infinite-scroll-distance="3" class="col-md-12 top30 padding0">
                        <table id="customerTable" class="standard-table table-striped customerTable">
                            <thead>
                                <tr>
                                    <th id="customerNameHeader" >Customer Name</th>
                                    <th id="customerSalesContactHeader">Sales Contact</th>
                                    <th id="createdGenericEmailHeader">Generic Email</th>
                                    <th id="customerAccountContactHeader">Account Contact</th>
                                    <th id="customerSalesEmailHeader">Sales Email</th>
                                    <th id="customerAddressHeader">Address</th>
                                    <th id="customerCityTownHeader">City/Town</th>
                                    <th id="customerCountyHeader">County</th>
                                    <th id="customerPostCodeHeader" >Post Code</th>
                                    <th id="customerPhoneNumberHeader">Phone Number</th>
                                    <th id="customerFaxHeader">Fax</th>
                                    <th id="customerVatNoHeader">VAT No</th>
                                    <th id="customerCompanyNumberHeader">Company Number</th>
                                    <th id="customerCreditCheckHeader">Credit Check</th>
                                    <th id="customerCreditLimitHeader">Credit Limit</th>
                                    <th id="customerOnlineBookingHeader">Online Booking</th>
                                    <th id="customerSageReferenceHeader">Sage Reference</th>
                                </tr>
                            </thead>
                            <tbody ng-if="customers.customerList.length === 0">
                                <tr>
                                    <td colspan="17">
                                        No customer present.
                                    </td>
                                </tr>
                            </tbody>
                            <tbody ng-if="customers.customerList">
                                <tr ng-repeat="customer in customers.customerList" id="customerRow{{$index + 1}}" ng-click="customers.editCustomer(customer.id)">
                                    <td>
                                        <p class="tcp-word-wrapper" id="tblCustomerName{{$index + 1}}" ng-bind="customer.customerName" ></p>
                                    </td>
                                    <td>
                                        <p class="tcp-word-wrapper" id="tblSalesContact{{$index + 1}}" ng-bind="customer.salesContact" ></p>
                                    </td>
                                    <td>
                                        <p class="tcp-word-wrapper ellipses" id="tblGenericEmail{{$index + 1}}" ng-bind="customer.genericEmail"></p>
                                    </td>
                                    <td>
                                        <p class="tcp-word-wrapper" id="tblAccountContact{{$index + 1}}" ng-bind="customer.accountContact"></p>
                                    </td>
                                    <td>
                                        <p class="tcp-word-wrapper ellipses" id="tblSalesEmail{{$index + 1}}" ng-bind="customer.salesEmail"></p>
                                    </td>
                                    <td>
                                        <p class="tcp-word-wrapper" id="tblAddress{{$index + 1}}" ng-bind="customer.address"></p>
                                    </td>
                                    <td>
                                        <p class="tcp-word-wrapper" id="tblCityTown{{$index + 1}}" ng-bind="customer.cityTown"></p>
                                    </td>
                                    <td>
                                        <p class="tcp-word-wrapper" id="tblCounty{{$index + 1}}" ng-bind="customer.county"></p>
                                    </td>
                                    <td>
                                        <p class="tcp-word-wrapper" id="tblPostCode{{$index + 1}}" ng-bind="customer.postCode"></p>
                                    </td>
                                    <td>
                                        <p class="tcp-word-wrapper" id="tblPhoneNumber{{$index + 1}}" ng-bind="customer.phoneNumber"></p>
                                    </td>
                                    <td>
                                        <p class="tcp-word-wrapper" id="tblFax{{$index + 1}}" ng-bind="customer.fax"></p>
                                    </td>
                                    <td>
                                        <p class="tcp-word-wrapper" id="tblVatNo{{$index + 1}}" ng-bind="customer.vatNo"></p>
                                    </td>
                                    <td>
                                        <p class="tcp-word-wrapper" id="tblCompanyNumber{{$index + 1}}" ng-bind="customer.companyNumber"></p>
                                    </td>
                                    <td>
                                        <p class="tcp-word-wrapper" id="tblCreditCheck{{$index + 1}}" ng-bind="customer.creditCheck | true_false"></p>
                                    </td>
                                    <td>
                                        <p class="tcp-word-wrapper" id="tblCreditLimit{{$index + 1}}" ng-bind="customer.creditLimit"></p>
                                    </td>
                                    <td>
                                        <p class="tcp-word-wrapper" id="tblOnlineBooking{{$index + 1}}" ng-bind="customer.onlineBooking | true_false"></p>
                                    </td>
                                    <td>
                                        <p class="tcp-word-wrapper" id="tblSageReference{{$index + 1}}" ng-bind="customer.sageReference"></p>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="col-md-12 padding0" ng-show="customers.customerList.length > 0 && customers.allCustomersRetrieved">
                            <div class="btn button color" id="noMoreCustomersMessgae" ng-click="customers.openCustomerModalPanel()">Add a new customer +</div>
                        </div>
                    </div>
                </div>    
            </div>
        </div>
    </div>
    <div modal-show class="modal fade" modal-visible="customers.customerModalPanel" id="customerModal" tabindex="-1" role="dialog" aria-labelledby="customerModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <form name="customerForm" id="customerForm" novalidate>
                    <div class="modal-header">
                        <button type="button" class="close" aria-label="Close" ng-click="customers.closeCustomerModalPanel()"><span aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title" id="customerModalLabel" ng-if="!customers.editCustomerFlag">Add Customer</h4>
                        <h4 class="modal-title" id="customerModalLabel" ng-if="customers.editCustomerFlag">Edit Customer</h4>
                    </div>
                    <div class="modal-body tcp-scrollable-modal">
                        <div class="row">
                            <div class="col-sm-6 p10">
                                <div class="col-sm-4">
                                    <label for="customerName" class="tcp-modal-label">Customer Name <span class="icon-asterisk icon-required"></span></label>
                                </div>
                                <div class="col-sm-8 padding-left">
                                    <input type="text" class="form-control" ng-model="customers.customerObj.customerName"  id="customerName" name="customerName" maxlength="250" required/>
                                    <div class="error,help-block">
                                        <span class="help-block" ng-show="customerForm.customerName.$invalid && customers.customerSubmittedFlag">Customer name required</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 p10">
                                <div class="col-sm-4">
                                    <label for="vatNo" class="tcp-modal-label">
                                        VAT No <span class="icon-asterisk icon-required"></span>
                                    </label>
                                </div>
                                <div class="col-sm-8 padding-left"> 
                                    <input type="text" class="form-control input-sm" alphanumeric-Only ng-model="customers.customerObj.vatNo"  id="vatNo" name="vatNo" maxlength="100" required/>
                                    <div class="error,help-block">
                                        <span class="help-block" ng-show="customerForm.vatNo.$invalid && customers.customerSubmittedFlag">Vat no required</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6 p10">
                                <div class="col-sm-4">
                                    <label for="salesContact" class="tcp-modal-label">
                                        Sales Contact <span class="icon-asterisk icon-required"></span>
                                    </label>
                                </div>
                                <div class="col-sm-8 padding-left">  
                                    <input type="text" class="form-control" ng-model="customers.customerObj.salesContact"  id="salesContact" name="salesContact" maxlength="100" required/>
                                    <div class="error,help-block">
                                        <span class="help-block" ng-show="customerForm.salesContact.$invalid && customers.customerSubmittedFlag">Sales contact required</span>
                                    </div>
                                </div>
                            </div>

                            <div class="col-sm-6 p10">
                                <div class="col-sm-4">
                                    <label for="accountContact" class="tcp-modal-label">
                                        Account Contact <span class="icon-asterisk icon-required"></span>
                                    </label>
                                </div>
                                <div class="col-sm-8 padding-left">  
                                    <input type="text" class="form-control input-sm" ng-model="customers.customerObj.accountContact"  id="accountContact" name="accountContact" maxlength="100" required/>
                                    <div class="error,help-block">
                                        <span class="help-block" ng-show="customerForm.accountContact.$invalid && customers.customerSubmittedFlag">Account contact required</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6 p10">
                                <div class="col-sm-4">
                                    <label for="salesEmail" class="tcp-modal-label">
                                        Sales Email <span class="icon-asterisk icon-required"></span>
                                    </label>
                                </div>
                                <div class="col-sm-8 padding-left">  
                                    <input type="text" ng-pattern="emailFormat" class="form-control input-sm" ng-model="customers.customerObj.salesEmail"  id="salesEmail" name="salesEmail" maxlength="100" required/>
                                    <div class="error,help-block" ng-show="customerForm.salesEmail.$invalid && customers.customerSubmittedFlag">
                                        <span class="help-block" ng-show="customerForm.salesEmail.$error.required">Sales email required</span>
                                        <span class="help-block" ng-show="customerForm.salesEmail.$error.pattern">Enter correct Sales email</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 p10">
                                <div class="col-sm-4">
                                    <label for="genericEmail" class="tcp-modal-label">Generic Email  <span class="icon-asterisk icon-required"></span></label>
                                </div>
                                <div class="col-sm-8 padding-left">  
                                    <input type="text" ng-pattern="emailFormat" class="form-control input-sm" ng-model="customers.customerObj.genericEmail"  id="genericEmail" name="genericEmail" maxlength="100" required/>
                                    <div class="error,help-block" ng-show="customerForm.genericEmail.$invalid && customers.customerSubmittedFlag">
                                        <span class="help-block" ng-show="customerForm.genericEmail.$error.required">Generic email required</span>
                                        <span class="help-block" ng-show="customerForm.genericEmail.$error.pattern">Enter correct Generic email</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6 p10">
                                <div class="col-sm-4">
                                    <label for="address" class="tcp-modal-label">
                                        Address <span class="icon-asterisk icon-required"></span>
                                    </label>
                                </div>
                                <div class="col-sm-8 padding-left"> 
                                    <textarea class="form-control input-sm" required  ng-model="customers.customerObj.address" id="address" name="address" rows="2" maxlength="500"></textarea>
                                    <div class="error,help-block">
                                        <span class="help-block" ng-show="customerForm.address.$invalid && customers.customerSubmittedFlag">Address required</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 p10">
                                <div class="col-sm-4">
                                    <label for="cityTown" class="tcp-modal-label">
                                        City/Town  <span class="icon-asterisk icon-required"></span>
                                    </label>
                                </div>
                                <div class="col-sm-8 padding-left"> 
                                    <input type="text" class="form-control input-sm" ng-model="customers.customerObj.cityTown"  id="cityTown" name="cityTown" maxlength="100" required/>
                                    <div class="error,help-block">
                                        <span class="help-block" ng-show="customerForm.cityTown.$invalid && customers.customerSubmittedFlag">City/Town required</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6 p10">
                                <div class="col-sm-4">
                                    <label for="county" class="tcp-modal-label">
                                        County <span class="icon-asterisk icon-required"></span>
                                    </label>
                                </div>
                                <div class="col-sm-8 padding-left">
                                    <input type="text" class="form-control input-sm" ng-model="customers.customerObj.county"  id="county" name="county" maxlength="100" required/>
                                    <div class="error,help-block">
                                        <span class="help-block" ng-show="customerForm.county.$invalid && customers.customerSubmittedFlag">County required</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 p10">
                                <div class="col-sm-4">
                                    <label for="postCode" class="tcp-modal-label">
                                        Post Code <span class="icon-asterisk icon-required"></span>
                                    </label>
                                </div>
                                <div class="col-sm-8 padding-left">
                                    <input type="text" class="form-control input-sm" ng-model="customers.customerObj.postCode" alphanumeric-Only id="postCode" name="postCode" maxlength="100" required/>
                                    <div class="error,help-block">
                                        <span class="help-block" ng-show="customerForm.postCode.$invalid && customers.customerSubmittedFlag">Post code required</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6 p10">
                                <div class="col-sm-4">
                                    <label for="phoneNumber" class="tcp-modal-label">
                                        Phone Number <span class="icon-asterisk icon-required"></span>
                                    </label>
                                </div>
                                <div class="col-sm-8 padding-left">
                                    <input type="text" numbers-only spaceallowed="true" class="form-control input-sm" ng-model="customers.customerObj.phoneNumber"  id="phoneNumber" name="phoneNumber" maxlength="100" required/>
                                    <div class="error,help-block">
                                        <span class="help-block" ng-show="customerForm.phoneNumber.$invalid && customers.customerSubmittedFlag">Phone number required</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 p10">
                                <div class="col-sm-4">
                                    <label for="fax" class="tcp-modal-label">
                                        Fax <span class="icon-asterisk icon-required"></span>
                                    </label>
                                </div>
                                <div class="col-sm-8 padding-left">
                                    <input type="text" numbers-only spaceallowed="true" class="form-control input-sm" ng-model="customers.customerObj.fax"  id="fax" name="fax" maxlength="100" required/>
                                    <div class="error,help-block">
                                        <span class="help-block" ng-show="customerForm.fax.$invalid && customers.customerSubmittedFlag">Fax required</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6 p10">
                                <div class="col-sm-4">
                                    <label for="companyNumber" class="tcp-modal-label">
                                        Company Number <span class="icon-asterisk icon-required"></span>
                                    </label>
                                </div>
                                <div class="col-sm-8 padding-left">
                                    <input type="text" numbers-only spaceallowed="true" class="form-control input-sm" ng-model="customers.customerObj.companyNumber"  id="companyNumber" name="companyNumber" maxlength="100" required/>
                                    <div class="error,help-block">
                                        <span class="help-block" ng-show="customerForm.companyNumber.$invalid && customers.customerSubmittedFlag">Company number required</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 p10">
                                <div class="col-sm-4">
                                    <label for="onlineBooking" class="tcp-modal-label">
                                        Online Booking <span class="icon-asterisk icon-required"></span>
                                    </label>
                                </div>
                                <div class="col-sm-8 padding-left">
                                    <input type="radio" id="onlineBookingYesRadio" name="onlineBookingYesRadio" ng-model="customers.customerObj.onlineBooking" ng-value="true" class="radio-button col-sm-1" required/>
                                    <div class="col-sm-2">
                                        <label for='onlineBookingYesRadio'>Yes</label>
                                    </div>
                                    <input type="radio" name='onlineBookingNoRadio' class="radio-button col-sm-1" id="onlineBookingNoRadio" ng-model="customers.customerObj.onlineBooking" ng-value="false"/>
                                    <div class="col-sm-2">
                                        <label for='onlineBookingNoRadio'>No</label>
                                    </div>
                                    <div class="error,help-block">
                                        <span class="help-block" ng-show="customerForm.onlineBookingYesRadio.$invalid && customers.customerSubmittedFlag">Online booking required</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6 p10">
                                <div class="col-sm-4">
                                    <label for="creditCheck" class="tcp-modal-label">
                                        Credit Check <span class="icon-asterisk icon-required"></span>
                                    </label>
                                </div>
                                <div class="col-sm-8 padding-left">
                                    <input type="radio" id="creditCheckYesRadio" name="creditCheckYesRadio" ng-model="customers.customerObj.creditCheck" ng-value="true" class="radio-button col-sm-1" required/>
                                    <div class="col-sm-2">
                                        <label for='creditCheckYesRadio'>Yes</label>
                                    </div>
                                    <input type="radio" name='creditCheckNoRadio' class="radio-button col-sm-1" id="creditCheckNoRadio" ng-model="customers.customerObj.creditCheck" ng-value="false"/>
                                    <div class="col-sm-2">
                                        <label for='creditCheckNoRadio'>No</label>
                                    </div>
                                    <div class="error,help-block">
                                        <span class="help-block" ng-show="customerForm.creditCheckYesRadio.$invalid && customers.customerSubmittedFlag">Credit check required</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 p10">
                                <div class="col-sm-4">
                                    <label for="creditLimit" class="tcp-modal-label">
                                        Credit Limit <span class="icon-asterisk icon-required"></span>
                                    </label>
                                </div>
                                <div class="col-sm-8 padding-left"> 
                                    <input type="text" numbers-only class="form-control input-sm" ng-model="customers.customerObj.creditLimit"  id="creditLimit" name="creditLimit" maxlength="10" required/>
                                    <div class="error,help-block">
                                        <span class="help-block" ng-show="customerForm.creditLimit.$invalid && customers.customerSubmittedFlag">Credit limit required</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6 p10">
                                <div class="col-sm-4">
                                    <label for="sageReference" class="tcp-modal-label">
                                        Sage Reference
                                    </label>
                                </div>
                                <div class="col-sm-8 padding-left"> 
                                    <input type="text" class="form-control input-sm" ng-model="customers.customerObj.sageReference"  id="sageReference" name="sageReference" maxlength="100"/>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <div class="btn-group overflow">
                            <button ng-disabled="customer.saveDisabled" type="button" class="btn btnSave1" id="btnSaveService"  ng-click="customers.createCustomer(customers.customerObj, customerForm)">Save</button>
                            <button ng-disabled="customer.saveDisabled" type="button" class="btn btn-primary dropdown-toggle btnIconSave" aria-expanded="false" ng-click="customers.createCustomer()">
                                <i class="fa fa-edit"></i>
                            </button>
                        </div>
                        <div class="btn-group">
                            <button class="btn btnCancel1" id="btnCloseService" ng-click="customers.closeCustomerModalPanel();">Cancel</button>
                            <button type="button" class="btn btn-primary dropdown-toggle btnRed" aria-expanded="false"  ng-click="customers.closeCustomerModalPanel();">
                                <i class="fa fa-close"></i>
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
